{"version":3,"file":"./build/galaxy.min.js","sources":["./src/galaxy.js"],"names":["define","Q","ko","postal","DuplicateViewRegistrationException","message","this","name","UnregisteredViewWarning","MissingViewModelException","MissingDOMElementException","ViewLoadedException","MissingOptionException","$galaxy","options","network","channel","viewmodelDirectory","viewDirectory","federation","blackHoles","currentLocation","StarChart","StarChartConstructor","prototype","route","pattern","routeParameters","viewmodelId","callback","to","vmId","addRoute","then","updateRoute","bind","warp","warpParameters","engage","location","with","payload","hash","static","length","create","setOptions","requirejs","onError","err","console","error","scan","window","addEventListener","event","hasOwnProperty","getDOMElements","id","bindingType","substr","undecoratedDomBindingId","replace","elements","byClass","document","getElementsByClassName","el","getElementById","loadViewModel","deferred","defer","matchFound","filter","model","warn","require","vm","join","resolve","promise","viewmodel","children","map","child","__parent","__loaded","show","render","viewModel","__joined","push","publish","leave","exists","_","findWhere","loadTemplate","viewTemplate","templatePath","domBindingId","forEach","xhr","XMLHttpRequest","open","onloadend","evt","target","status","innerHTML","responseText","applyBindings","send","hideInactiveViews","view","autoRender","style","display","renderChildren","showRoutedView","currentViewModel","fail","ex","catch","galaxy","SpaceTime","routes","smuggledPayload","matchedRoute","hashBuilder","match","targetLocation","history","pushState","self","totalPayload","moduleId","urlParamArray","locationHash","pathname","split","splice","matches","_arguments","i","j","arg","goods","hole","currentMatch","call","depot","Store","collection","observableArray","proxy","_dirty","populate","force","load","models","log","toString","reject","done","isDirty","sync","type","_local","save","add","Array","item","empty","removeAll","remove","filtered","JSON","stringify","removeById"],"mappings":"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"}