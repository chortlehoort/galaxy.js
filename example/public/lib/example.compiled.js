// Knockout JavaScript library v3.0.0
// (c) Steven Sanderson - http://knockoutjs.com/
// License: MIT (http://www.opensource.org/licenses/mit-license.php)

//     Underscore.js 1.6.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

/*
 postal
 Author: Jim Cowart (http://freshbrewedcode.com/jimcowart)
 License: Dual licensed MIT (http://www.opensource.org/licenses/mit-license) & GPL (http://www.opensource.org/licenses/gpl-license)
 Version 0.8.11
 */

!function(e){if("function"==typeof bootstrap)bootstrap("promise",e);else if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define("q",e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=e}else Q=e()}(function(){function e(e){return function(){return K.apply(e,arguments)}}function t(e){return e===Object(e)}function n(e){return"[object StopIteration]"===rt(e)||e instanceof X}function r(e,t){if(U&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(st)){for(var n=[],r=t;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(e.stack);var s=n.join("\n"+st+"\n");e.stack=i(s)}}function i(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var i=t[r];u(i)||s(i)||!i||n.push(i)}return n.join("\n")}function s(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function o(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function u(e){var t=o(e);if(!t)return!1;var n=t[0],r=t[1];return n===W&&r>=V&&lt>=r}function a(){if(U)try{throw new Error}catch(e){var t=e.stack.split("\n"),n=t[0].indexOf("@")>0?t[1]:t[2],r=o(n);if(!r)return;return W=r[0],r[1]}}function f(e,t,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+n+" instead.",(new Error("")).stack),e.apply(e,arguments)}}function l(e){return g(e)?e:y(e)?A(e):L(e)}function c(){function e(e){t=e,s.source=e,G(n,function(t,n){J(function(){e.promiseDispatch.apply(e,n)})},void 0),n=void 0,r=void 0}var t,n=[],r=[],i=et(c.prototype),s=et(d.prototype);if(s.promiseDispatch=function(e,i,s){var o=Q(arguments);n?(n.push(o),"when"===i&&s[1]&&r.push(s[1])):J(function(){t.promiseDispatch.apply(t,o)})},s.valueOf=f(function(){if(n)return s;var e=m(t);return g(e)&&(t=e),e},"valueOf","inspect"),s.inspect=function(){return t?t.inspect():{state:"pending"}},l.longStackSupport&&U)try{throw new Error}catch(o){s.stack=o.stack.substring(o.stack.indexOf("\n")+1)}return i.promise=s,i.resolve=function(n){t||e(l(n))},i.fulfill=function(n){t||e(L(n))},i.reject=function(n){t||e(k(n))},i.notify=function(e){t||G(r,function(t,n){J(function(){n(e)})},void 0)},i}function h(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=c();try{e(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}return t.promise}function p(e){return h(function(t,n){for(var r=0,i=e.length;i>r;r++)l(e[r]).then(t,n)})}function d(e,t,n){void 0===t&&(t=function(e){return k(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=et(d.prototype);if(r.promiseDispatch=function(n,i,s){var o;try{o=e[i]?e[i].apply(r,s):t.call(r,i,s)}catch(u){o=k(u)}n&&n(o)},r.inspect=n,n){var i=n();"rejected"===i.state&&(r.exception=i.reason),r.valueOf=f(function(){var e=n();return"pending"===e.state||"rejected"===e.state?r:e.value})}return r}function v(e,t,n,r){return l(e).then(t,n,r)}function m(e){if(g(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function g(e){return t(e)&&"function"==typeof e.promiseDispatch&&"function"==typeof e.inspect}function y(e){return t(e)&&"function"==typeof e.then}function b(e){return g(e)&&"pending"===e.inspect().state}function w(e){return!g(e)||"fulfilled"===e.inspect().state}function E(e){return g(e)&&"rejected"===e.inspect().state}function S(){at||"undefined"==typeof window||window.Touch||!window.console||console.warn("[Q] Unhandled rejection reasons (should be empty):",ot),at=!0}function x(){for(var e=0;e<ot.length;e++){var t=ot[e];console.warn("Unhandled rejection reason:",t)}}function T(){ot.length=0,ut.length=0,at=!1,ft||(ft=!0,"undefined"!=typeof process&&process.on&&process.on("exit",x))}function N(e,t){ft&&(ut.push(e),ot.push(t&&"undefined"!=typeof t.stack?t.stack:"(no stack) "+t),S())}function C(e){if(ft){var t=Y(ut,e);-1!==t&&(ut.splice(t,1),ot.splice(t,1))}}function k(e){var t=d({when:function(t){return t&&C(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return N(t,e),t}function L(e){return d({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},"delete":function(t){delete e[t]},post:function(t,n){return null===t||void 0===t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return nt(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function A(e){var t=c();return J(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}}),t.promise}function O(e){return d({isDef:function(){}},function(t,n){return B(e,t,n)},function(){return l(e).inspect()})}function M(e,t,n){return l(e).spread(t,n)}function _(e){return function(){function t(e,t){var o;if(it){try{o=r[e](t)}catch(u){return k(u)}return o.done?o.value:v(o.value,i,s)}try{o=r[e](t)}catch(u){return n(u)?u.value:k(u)}return v(o,i,s)}var r=e.apply(this,arguments),i=t.bind(t,"next"),s=t.bind(t,"throw");return i()}}function D(e){l.done(l.async(e)())}function P(e){throw new X(e)}function H(e){return function(){return M([this,j(arguments)],function(t,n){return e.apply(t,n)})}}function B(e,t,n){return l(e).dispatch(t,n)}function j(e){return v(e,function(e){var t=0,n=c();return G(e,function(r,i,s){var o;g(i)&&"fulfilled"===(o=i.inspect()).state?e[s]=o.value:(++t,v(i,function(r){e[s]=r,0===--t&&n.resolve(e)},n.reject,function(e){n.notify({index:s,value:e})}))},void 0),0===t&&n.resolve(e),n.promise})}function F(e){return v(e,function(e){return e=Z(e,l),v(j(Z(e,function(e){return v(e,$,$)})),function(){return e})})}function I(e){return l(e).allSettled()}function q(e,t){return l(e).then(void 0,void 0,t)}function R(e,t){return l(e).nodeify(t)}var U=!1;try{throw new Error}catch(z){U=!!z.stack}var W,X,V=a(),$=function(){},J=function(){function e(){for(;t.next;){t=t.next;var n=t.task;t.task=void 0;var i=t.domain;i&&(t.domain=void 0,i.enter());try{n()}catch(o){if(s)throw i&&i.exit(),setTimeout(e,0),i&&i.enter(),o;setTimeout(function(){throw o},0)}i&&i.exit()}r=!1}var t={task:void 0,next:null},n=t,r=!1,i=void 0,s=!1;if(J=function(e){n=n.next={task:e,domain:s&&process.domain,next:null},r||(r=!0,i())},"undefined"!=typeof process&&process.nextTick)s=!0,i=function(){process.nextTick(e)};else if("function"==typeof setImmediate)i="undefined"!=typeof window?setImmediate.bind(window,e):function(){setImmediate(e)};else if("undefined"!=typeof MessageChannel){var o=new MessageChannel;o.port1.onmessage=function(){i=u,o.port1.onmessage=e,e()};var u=function(){o.port2.postMessage(0)};i=function(){setTimeout(e,0),u()}}else i=function(){setTimeout(e,0)};return J}(),K=Function.call,Q=e(Array.prototype.slice),G=e(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}for(;r>n;n++)n in this&&(t=e(t,this[n],n));return t}),Y=e(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),Z=e(Array.prototype.map||function(e,t){var n=this,r=[];return G(n,function(i,s,o){r.push(e.call(t,s,o,n))},void 0),r}),et=Object.create||function(e){function t(){}return t.prototype=e,new t},tt=e(Object.prototype.hasOwnProperty),nt=Object.keys||function(e){var t=[];for(var n in e)tt(e,n)&&t.push(n);return t},rt=e(Object.prototype.toString);X="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var it;try{new Function("(function* (){ yield 1; })"),it=!0}catch(z){it=!1}var st="From previous event:";l.resolve=l,l.nextTick=J,l.longStackSupport=!1,l.defer=c,c.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):e.resolve(arguments.length>2?Q(arguments,1):n)}},l.promise=h,l.passByCopy=function(e){return e},d.prototype.passByCopy=function(){return this},l.join=function(e,t){return l(e).join(t)},d.prototype.join=function(e){return l([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Can't join: not the same: "+e+" "+t)})},l.race=p,d.prototype.race=function(){return this.then(l.race)},l.makePromise=d,d.prototype.toString=function(){return"[object Promise]"},d.prototype.then=function(e,t,n){function i(t){try{return"function"==typeof e?e(t):t}catch(n){return k(n)}}function s(e){if("function"==typeof t){r(e,u);try{return t(e)}catch(n){return k(n)}}return k(e)}function o(e){return"function"==typeof n?n(e):e}var u=this,a=c(),f=!1;return J(function(){u.promiseDispatch(function(e){f||(f=!0,a.resolve(i(e)))},"when",[function(e){f||(f=!0,a.resolve(s(e)))}])}),u.promiseDispatch(void 0,"when",[void 0,function(e){var t,n=!1;try{t=o(e)}catch(r){if(n=!0,!l.onerror)throw r;l.onerror(r)}n||a.notify(t)}]),a.promise},l.when=v,d.prototype.thenResolve=function(e){return this.then(function(){return e})},l.thenResolve=function(e,t){return l(e).thenResolve(t)},d.prototype.thenReject=function(e){return this.then(function(){throw e})},l.thenReject=function(e,t){return l(e).thenReject(t)},l.nearer=m,l.isPromise=g,l.isPromiseAlike=y,l.isPending=b,d.prototype.isPending=function(){return"pending"===this.inspect().state},l.isFulfilled=w,d.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},l.isRejected=E,d.prototype.isRejected=function(){return"rejected"===this.inspect().state};var ot=[],ut=[],at=!1,ft=!0;l.resetUnhandledRejections=T,l.getUnhandledReasons=function(){return ot.slice()},l.stopUnhandledRejectionTracking=function(){T(),"undefined"!=typeof process&&process.on&&process.removeListener("exit",x),ft=!1},T(),l.reject=k,l.fulfill=L,l.master=O,l.spread=M,d.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},l.async=_,l.spawn=D,l["return"]=P,l.promised=H,l.dispatch=B,d.prototype.dispatch=function(e,t){var n=this,r=c();return J(function(){n.promiseDispatch(r.resolve,e,t)}),r.promise},l.get=function(e,t){return l(e).dispatch("get",[t])},d.prototype.get=function(e){return this.dispatch("get",[e])},l.set=function(e,t,n){return l(e).dispatch("set",[t,n])},d.prototype.set=function(e,t){return this.dispatch("set",[e,t])},l.del=l["delete"]=function(e,t){return l(e).dispatch("delete",[t])},d.prototype.del=d.prototype["delete"]=function(e){return this.dispatch("delete",[e])},l.mapply=l.post=function(e,t,n){return l(e).dispatch("post",[t,n])},d.prototype.mapply=d.prototype.post=function(e,t){return this.dispatch("post",[e,t])},l.send=l.mcall=l.invoke=function(e,t){return l(e).dispatch("post",[t,Q(arguments,2)])},d.prototype.send=d.prototype.mcall=d.prototype.invoke=function(e){return this.dispatch("post",[e,Q(arguments,1)])},l.fapply=function(e,t){return l(e).dispatch("apply",[void 0,t])},d.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},l["try"]=l.fcall=function(e){return l(e).dispatch("apply",[void 0,Q(arguments,1)])},d.prototype.fcall=function(){return this.dispatch("apply",[void 0,Q(arguments)])},l.fbind=function(e){var t=l(e),n=Q(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(Q(arguments))])}},d.prototype.fbind=function(){var e=this,t=Q(arguments);return function(){return e.dispatch("apply",[this,t.concat(Q(arguments))])}},l.keys=function(e){return l(e).dispatch("keys",[])},d.prototype.keys=function(){return this.dispatch("keys",[])},l.all=j,d.prototype.all=function(){return j(this)},l.allResolved=f(F,"allResolved","allSettled"),d.prototype.allResolved=function(){return F(this)},l.allSettled=I,d.prototype.allSettled=function(){return this.then(function(e){return j(Z(e,function(e){function t(){return e.inspect()}return e=l(e),e.then(t,t)}))})},l.fail=l["catch"]=function(e,t){return l(e).then(void 0,t)},d.prototype.fail=d.prototype["catch"]=function(e){return this.then(void 0,e)},l.progress=q,d.prototype.progress=function(e){return this.then(void 0,void 0,e)},l.fin=l["finally"]=function(e,t){return l(e)["finally"](t)},d.prototype.fin=d.prototype["finally"]=function(e){return e=l(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},l.done=function(e,t,n,r){return l(e).done(t,n,r)},d.prototype.done=function(e,t,n){var i=function(e){J(function(){if(r(e,s),!l.onerror)throw e;l.onerror(e)})},s=e||t||n?this.then(e,t,n):this;"object"==typeof process&&process&&process.domain&&(i=process.domain.bind(i)),s.then(void 0,i)},l.timeout=function(e,t,n){return l(e).timeout(t,n)},d.prototype.timeout=function(e,t){var n=c(),r=setTimeout(function(){n.reject(new Error(t||"Timed out after "+e+" ms"))},e);return this.then(function(e){clearTimeout(r),n.resolve(e)},function(e){clearTimeout(r),n.reject(e)},n.notify),n.promise},l.delay=function(e,t){return void 0===t&&(t=e,e=void 0),l(e).delay(t)},d.prototype.delay=function(e){return this.then(function(t){var n=c();return setTimeout(function(){n.resolve(t)},e),n.promise})},l.nfapply=function(e,t){return l(e).nfapply(t)},d.prototype.nfapply=function(e){var t=c(),n=Q(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},l.nfcall=function(e){var t=Q(arguments,1);return l(e).nfapply(t)},d.prototype.nfcall=function(){var e=Q(arguments),t=c();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},l.nfbind=l.denodeify=function(e){var t=Q(arguments,1);return function(){var n=t.concat(Q(arguments)),r=c();return n.push(r.makeNodeResolver()),l(e).fapply(n).fail(r.reject),r.promise}},d.prototype.nfbind=d.prototype.denodeify=function(){var e=Q(arguments);return e.unshift(this),l.denodeify.apply(void 0,e)},l.nbind=function(e,t){var n=Q(arguments,2);return function(){function r(){return e.apply(t,arguments)}var i=n.concat(Q(arguments)),s=c();return i.push(s.makeNodeResolver()),l(r).fapply(i).fail(s.reject),s.promise}},d.prototype.nbind=function(){var e=Q(arguments,0);return e.unshift(this),l.nbind.apply(void 0,e)},l.nmapply=l.npost=function(e,t,n){return l(e).npost(t,n)},d.prototype.nmapply=d.prototype.npost=function(e,t){var n=Q(t||[]),r=c();return n.push(r.makeNodeResolver()),this.dispatch("post",[e,n]).fail(r.reject),r.promise},l.nsend=l.nmcall=l.ninvoke=function(e,t){var n=Q(arguments,2),r=c();return n.push(r.makeNodeResolver()),l(e).dispatch("post",[t,n]).fail(r.reject),r.promise},d.prototype.nsend=d.prototype.nmcall=d.prototype.ninvoke=function(e){var t=Q(arguments,1),n=c();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},l.nodeify=R,d.prototype.nodeify=function(e){return e?void this.then(function(t){J(function(){e(null,t)})},function(t){J(function(){e(t)})}):this};var lt=a();return l}),function(){(function(q){var y=this||(0,eval)("this"),w=y.document,K=y.navigator,u=y.jQuery,B=y.JSON;(function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(module.exports||exports):"function"==typeof define&&define.amd?define("knockout",["exports"],e):e(y.ko={})})(function(e){function t(e,t){return null===e||typeof e in i?e===t:!1}function n(e,t,n,i){r.d[e]={init:function(e){return r.a.f.set(e,l,{}),{controlsDescendantBindings:!0}},update:function(e,s,o,u,a){o=r.a.f.get(e,l),s=r.a.c(s()),u=!n!=!s;var f=!o.ob;if(f||t||u!==o.Db)f&&(o.ob=r.a.Ya(r.e.childNodes(e),!0)),u?(f||r.e.S(e,r.a.Ya(o.ob)),r.Ta(i?i(a,s):a,e)):r.e.Z(e),o.Db=u}},r.g.Y[e]=!1,r.e.P[e]=!0}var r="undefined"!=typeof e?e:{};r.b=function(e,t){for(var n=e.split("."),i=r,s=0;s<n.length-1;s++)i=i[n[s]];i[n[n.length-1]]=t},r.s=function(e,t,n){e[t]=n},r.version="3.0.0",r.b("version",r.version),r.a=function(){function e(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function t(e,t){if("input"!==r.a.v(e)||!e.type||"click"!=t.toLowerCase())return!1;var n=e.type;return"checkbox"==n||"radio"==n}var n={},i={};n[K&&/Firefox\/2/i.test(K.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],n.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),e(n,function(e,t){if(t.length)for(var n=0,r=t.length;n<r;n++)i[t[n]]=e});var s={propertychange:!0},o=w&&function(){for(var e=3,t=w.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",n[0];);return 4<e?e:q}();return{$a:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],n:function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n])},l:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},Ua:function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r]))return e[r];return null},ia:function(e,t){var n=r.a.l(e,t);0<=n&&e.splice(n,1)},Va:function(e){e=e||[];for(var t=[],n=0,i=e.length;n<i;n++)0>r.a.l(t,e[n])&&t.push(e[n]);return t},ha:function(e,t){e=e||[];for(var n=[],r=0,i=e.length;r<i;r++)n.push(t(e[r]));return n},ga:function(e,t){e=e||[];for(var n=[],r=0,i=e.length;r<i;r++)t(e[r])&&n.push(e[r]);return n},X:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,r=t.length;n<r;n++)e.push(t[n]);return e},V:function(e,t,n){var i=r.a.l(r.a.Ha(e),t);0>i?n&&e.push(t):n||e.splice(i,1)},extend:function(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},K:e,Da:function(e,t){if(!e)return e;var n={},r;for(r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r],r,e));return n},wa:function(e){for(;e.firstChild;)r.removeNode(e.firstChild)},Vb:function(e){e=r.a.Q(e);for(var t=w.createElement("div"),n=0,i=e.length;n<i;n++)t.appendChild(r.L(e[n]));return t},Ya:function(e,t){for(var n=0,i=e.length,s=[];n<i;n++){var o=e[n].cloneNode(!0);s.push(t?r.L(o):o)}return s},S:function(e,t){r.a.wa(e);if(t)for(var n=0,i=t.length;n<i;n++)e.appendChild(t[n])},nb:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var i=n[0],s=i.parentNode,o=0,u=t.length;o<u;o++)s.insertBefore(t[o],i);o=0;for(u=n.length;o<u;o++)r.removeNode(n[o])}},$:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);if(1<e.length){var n=e[0],r=e[e.length-1];for(e.length=0;n!==r;)if(e.push(n),n=n.nextSibling,!n)return;e.push(r)}}return e},qb:function(e,t){7>o?e.setAttribute("selected",t):e.selected=t},la:function(e){return null===e||e===q?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},ec:function(e,t){for(var n=[],i=(e||"").split(t),s=0,o=i.length;s<o;s++){var u=r.a.la(i[s]);""!==u&&n.push(u)}return n},ac:function(e,t){return e=e||"",t.length>e.length?!1:e.substring(0,t.length)===t},Gb:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(3===e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(t.compareDocumentPosition(e)&16);for(;e&&e!=t;)e=e.parentNode;return!!e},va:function(e){return r.a.Gb(e,e.ownerDocument.documentElement)},Ra:function(e){return!!r.a.Ua(e,r.a.va)},v:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},r:function(e,n,i){var a=o&&s[n];if(a||"undefined"==typeof u)if(a||"function"!=typeof e.addEventListener){if("undefined"==typeof e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var f=function(t){i.call(e,t)},l="on"+n;e.attachEvent(l,f),r.a.C.ea(e,function(){e.detachEvent(l,f)})}else e.addEventListener(n,i,!1);else{if(t(e,n)){var p=i;i=function(e,t){var n=this.checked;t&&(this.checked=!0!==t.Ab),p.call(this,e),this.checked=n}}u(e).bind(n,i)}},da:function(e,n){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");if("undefined"!=typeof u){var r=[];t(e,n)&&r.push({Ab:e.checked}),u(e).trigger(n,r)}else if("function"==typeof w.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");r=w.createEvent(i[n]||"HTMLEvents"),r.initEvent(n,!0,!0,y,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(r)}else{if("undefined"==typeof e.fireEvent)throw Error("Browser doesn't support triggering events");t(e,n)&&(e.checked=!0!==e.checked),e.fireEvent("on"+n)}},c:function(e){return r.M(e)?e():e},Ha:function(e){return r.M(e)?e.t():e},ma:function(e,t,n){if(t){var i=/\S+/g,s=e.className.match(i)||[];r.a.n(t.match(i),function(e){r.a.V(s,e,n)}),e.className=s.join(" ")}},Ma:function(e,t){var n=r.a.c(t);if(null===n||n===q)n="";var i=r.e.firstChild(e);!i||3!=i.nodeType||r.e.nextSibling(i)?r.e.S(e,[w.createTextNode(n)]):i.data=n,r.a.Jb(e)},pb:function(e,t){e.name=t;if(7>=o)try{e.mergeAttributes(w.createElement("<input name='"+e.name+"'/>"),!1)}catch(n){}},Jb:function(e){9<=o&&(e=1==e.nodeType?e:e.parentNode,e.style&&(e.style.zoom=e.style.zoom))},Hb:function(e){if(o){var t=e.style.width;e.style.width=0,e.style.width=t}},Zb:function(e,t){e=r.a.c(e),t=r.a.c(t);for(var n=[],i=e;i<=t;i++)n.push(i);return n},Q:function(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n]);return t},cc:6===o,dc:7===o,ja:o,ab:function(e,t){for(var n=r.a.Q(e.getElementsByTagName("input")).concat(r.a.Q(e.getElementsByTagName("textarea"))),i="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},s=[],o=n.length-1;0<=o;o--)i(n[o])&&s.push(n[o]);return s},Wb:function(e){return"string"==typeof e&&(e=r.a.la(e))?B&&B.parse?B.parse(e):(new Function("return "+e))():null},Na:function(e,t,n){if(!B||!B.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return B.stringify(r.a.c(e),t,n)},Xb:function(t,n,i){i=i||{};var s=i.params||{},o=i.includeFields||this.$a,u=t;if("object"==typeof t&&"form"===r.a.v(t))for(var u=t.action,a=o.length-1;0<=a;a--)for(var f=r.a.ab(t,o[a]),l=f.length-1;0<=l;l--)s[f[l].name]=f[l].value;n=r.a.c(n);var c=w.createElement("form");c.style.display="none",c.action=u,c.method="post";for(var h in n)t=w.createElement("input"),t.name=h,t.value=r.a.Na(r.a.c(n[h])),c.appendChild(t);e(s,function(e,t){var n=w.createElement("input");n.name=e,n.value=t,c.appendChild(n)}),w.body.appendChild(c),i.submitter?i.submitter(c):c.submit(),setTimeout(function(){c.parentNode.removeChild(c)},0)}}}(),r.b("utils",r.a),r.b("utils.arrayForEach",r.a.n),r.b("utils.arrayFirst",r.a.Ua),r.b("utils.arrayFilter",r.a.ga),r.b("utils.arrayGetDistinctValues",r.a.Va),r.b("utils.arrayIndexOf",r.a.l),r.b("utils.arrayMap",r.a.ha),r.b("utils.arrayPushAll",r.a.X),r.b("utils.arrayRemoveItem",r.a.ia),r.b("utils.extend",r.a.extend),r.b("utils.fieldsIncludedWithJsonPost",r.a.$a),r.b("utils.getFormFields",r.a.ab),r.b("utils.peekObservable",r.a.Ha),r.b("utils.postJson",r.a.Xb),r.b("utils.parseJson",r.a.Wb),r.b("utils.registerEventHandler",r.a.r),r.b("utils.stringifyJson",r.a.Na),r.b("utils.range",r.a.Zb),r.b("utils.toggleDomNodeCssClass",r.a.ma),r.b("utils.triggerEvent",r.a.da),r.b("utils.unwrapObservable",r.a.c),r.b("utils.objectForEach",r.a.K),r.b("utils.addOrRemoveItem",r.a.V),r.b("unwrap",r.a.c),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice.call(arguments);return e=n.shift(),function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}}),r.a.f=new function(){function e(e,i){var s=e[n];if(!s||"null"===s||!r[s]){if(!i)return q;s=e[n]="ko"+t++,r[s]={}}return r[s]}var t=0,n="__ko__"+(new Date).getTime(),r={};return{get:function(t,n){var r=e(t,!1);return r===q?q:r[n]},set:function(t,n,r){if(r!==q||e(t,!1)!==q)e(t,!0)[n]=r},clear:function(e){var t=e[n];return t?(delete r[t],e[n]=null,!0):!1},D:function(){return t++ +n}}},r.b("utils.domData",r.a.f),r.b("utils.domData.clear",r.a.f.clear),r.a.C=new function(){function e(e,t){var i=r.a.f.get(e,n);return i===q&&t&&(i=[],r.a.f.set(e,n,i)),i}function t(n){var i=e(n,!1);if(i)for(var i=i.slice(0),o=0;o<i.length;o++)i[o](n);r.a.f.clear(n),"function"==typeof u&&"function"==typeof u.cleanData&&u.cleanData([n]);if(s[n.nodeType])for(i=n.firstChild;n=i;)i=n.nextSibling,8===n.nodeType&&t(n)}var n=r.a.f.D(),i={1:!0,8:!0,9:!0},s={1:!0,9:!0};return{ea:function(t,n){if("function"!=typeof n)throw Error("Callback must be a function");e(t,!0).push(n)},mb:function(t,i){var s=e(t,!1);s&&(r.a.ia(s,i),0==s.length&&r.a.f.set(t,n,q))},L:function(e){if(i[e.nodeType]&&(t(e),s[e.nodeType])){var n=[];r.a.X(n,e.getElementsByTagName("*"));for(var o=0,u=n.length;o<u;o++)t(n[o])}return e},removeNode:function(e){r.L(e),e.parentNode&&e.parentNode.removeChild(e)}}},r.L=r.a.C.L,r.removeNode=r.a.C.removeNode,r.b("cleanNode",r.L),r.b("removeNode",r.removeNode),r.b("utils.domNodeDisposal",r.a.C),r.b("utils.domNodeDisposal.addDisposeCallback",r.a.C.ea),r.b("utils.domNodeDisposal.removeDisposeCallback",r.a.C.mb),function(){r.a.Fa=function(e){var t;if("undefined"!=typeof u){if(u.parseHTML)t=u.parseHTML(e)||[];else if((t=u.clean([e]))&&t[0]){for(e=t[0];e.parentNode&&11!==e.parentNode.nodeType;)e=e.parentNode;e.parentNode&&e.parentNode.removeChild(e)}}else{var n=r.a.la(e).toLowerCase();t=w.createElement("div"),n=n.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!n.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!n.indexOf("<td")||!n.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],e="ignored<div>"+n[1]+e+n[2]+"</div>";for("function"==typeof y.innerShiv?t.appendChild(y.innerShiv(e)):t.innerHTML=e;n[0]--;)t=t.lastChild;t=r.a.Q(t.lastChild.childNodes)}return t},r.a.Ka=function(e,t){r.a.wa(e),t=r.a.c(t);if(null!==t&&t!==q)if("string"!=typeof t&&(t=t.toString()),"undefined"!=typeof u)u(e).html(t);else for(var n=r.a.Fa(t),i=0;i<n.length;i++)e.appendChild(n[i])}}(),r.b("utils.parseHtmlFragment",r.a.Fa),r.b("utils.setHtml",r.a.Ka),r.u=function(){function e(t,n){if(t)if(8==t.nodeType){var i=r.u.jb(t.nodeValue);null!=i&&n.push({Fb:t,Tb:i})}else if(1==t.nodeType)for(var i=0,s=t.childNodes,o=s.length;i<o;i++)e(s[i],n)}var t={};return{Ca:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var n=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return t[n]=e,"<!--[ko_memo:"+n+"]-->"},ub:function(e,n){var r=t[e];if(r===q)throw Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return r.apply(null,n||[]),!0}finally{delete t[e]}},vb:function(t,n){var i=[];e(t,i);for(var s=0,o=i.length;s<o;s++){var u=i[s].Fb,a=[u];n&&r.a.X(a,n),r.u.ub(i[s].Tb,a),u.nodeValue="",u.parentNode&&u.parentNode.removeChild(u)}},jb:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),r.b("memoization",r.u),r.b("memoization.memoize",r.u.Ca),r.b("memoization.unmemoize",r.u.ub),r.b("memoization.parseMemoText",r.u.jb),r.b("memoization.unmemoizeDomNodeAndDescendants",r.u.vb),r.xa={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return r.h({read:e,write:function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}})},notify:function(e,n){e.equalityComparer="always"==n?null:t}};var i={"undefined":1,"boolean":1,number:1,string:1};r.b("extenders",r.xa),r.sb=function(e,t,n){this.target=e,this.qa=t,this.Eb=n,r.s(this,"dispose",this.B)},r.sb.prototype.B=function(){this.Qb=!0,this.Eb()},r.ca=function(){this.F={},r.a.extend(this,r.ca.fn),r.s(this,"subscribe",this.T),r.s(this,"extend",this.extend),r.s(this,"getSubscriptionsCount",this.Lb)};var s="change";r.ca.fn={T:function(e,t,n){n=n||s;var i=new r.sb(this,t?e.bind(t):e,function(){r.a.ia(this.F[n],i)}.bind(this));return this.F[n]||(this.F[n]=[]),this.F[n].push(i),i},notifySubscribers:function(e,t){t=t||s;if(this.cb(t))try{r.i.Wa();for(var n=this.F[t].slice(0),i=0,o;o=n[i];++i)o&&!0!==o.Qb&&o.qa(e)}finally{r.i.end()}},cb:function(e){return this.F[e]&&this.F[e].length},Lb:function(){var e=0;return r.a.K(this.F,function(t,n){e+=n.length}),e},extend:function(e){var t=this;return e&&r.a.K(e,function(e,n){var i=r.xa[e];"function"==typeof i&&(t=i(t,n)||t)}),t}},r.fb=function(e){return null!=e&&"function"==typeof e.T&&"function"==typeof e.notifySubscribers},r.b("subscribable",r.ca),r.b("isSubscribable",r.fb),r.i=function(){var e=[];return{Wa:function(t){e.push(t&&{qa:t,Za:[]})},end:function(){e.pop()},lb:function(t){if(!r.fb(t))throw Error("Only subscribable things can act as dependencies");if(0<e.length){var n=e[e.length-1];!n||0<=r.a.l(n.Za,t)||(n.Za.push(t),n.qa(t))}},p:function(t,n,r){try{return e.push(null),t.apply(n,r||[])}finally{e.pop()}}}}(),r.q=function(e){function t(){return 0<arguments.length?(t.equalityComparer&&t.equalityComparer(n,arguments[0])||(t.O(),n=arguments[0],t.N()),this):(r.i.lb(t),n)}var n=e;return r.ca.call(t),t.t=function(){return n},t.N=function(){t.notifySubscribers(n)},t.O=function(){t.notifySubscribers(n,"beforeChange")},r.a.extend(t,r.q.fn),r.s(t,"peek",t.t),r.s(t,"valueHasMutated",t.N),r.s(t,"valueWillMutate",t.O),t},r.q.fn={equalityComparer:t};var o=r.q.Yb="__ko_proto__";r.q.fn[o]=r.q,r.ya=function(e,t){return null===e||e===q||e[o]===q?!1:e[o]===t?!0:r.ya(e[o],t)},r.M=function(e){return r.ya(e,r.q)},r.gb=function(e){return"function"==typeof e&&e[o]===r.q||"function"==typeof e&&e[o]===r.h&&e.Nb?!0:!1},r.b("observable",r.q),r.b("isObservable",r.M),r.b("isWriteableObservable",r.gb),r.ba=function(e){e=e||[];if("object"==typeof e&&"length"in e)return e=r.q(e),r.a.extend(e,r.ba.fn),e.extend({trackArrayChanges:!0});throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.")},r.ba.fn={remove:function(e){for(var t=this.t(),n=[],i="function"!=typeof e||r.M(e)?function(t){return t===e}:e,s=0;s<t.length;s++){var o=t[s];i(o)&&(0===n.length&&this.O(),n.push(o),t.splice(s,1),s--)}return n.length&&this.N(),n},removeAll:function(e){if(e===q){var t=this.t(),n=t.slice(0);return this.O(),t.splice(0,t.length),this.N(),n}return e?this.remove(function(t){return 0<=r.a.l(e,t)}):[]},destroy:function(e){var t=this.t(),n="function"!=typeof e||r.M(e)?function(t){return t===e}:e;this.O();for(var i=t.length-1;0<=i;i--)n(t[i])&&(t[i]._destroy=!0);this.N()},destroyAll:function(e){return e===q?this.destroy(function(){return!0}):e?this.destroy(function(t){return 0<=r.a.l(e,t)}):[]},indexOf:function(e){var t=this();return r.a.l(t,e)},replace:function(e,t){var n=this.indexOf(e);0<=n&&(this.O(),this.t()[n]=t,this.N())}},r.a.n("pop push reverse shift sort splice unshift".split(" "),function(e){r.ba.fn[e]=function(){var t=this.t();return this.O(),this.Xa(t,e,arguments),t=t[e].apply(t,arguments),this.N(),t}}),r.a.n(["slice"],function(e){r.ba.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),r.b("observableArray",r.ba);var a="arrayChange";r.xa.trackArrayChanges=function(e){function t(){if(!n){n=!0;var t=e.notifySubscribers;e.notifySubscribers=function(e,n){return n&&n!==s||++o,t.apply(this,arguments)};var u=[].concat(e.t()||[]);i=null,e.T(function(t){t=[].concat(t||[]);if(e.cb(a)){var n;if(!i||1<o)i=r.a.ra(u,t,{sparse:!0});n=i,n.length&&e.notifySubscribers(n,a)}u=t,i=null,o=0})}}if(!e.Xa){var n=!1,i=null,o=0,u=e.T;e.T=e.subscribe=function(e,n,r){return r===a&&t(),u.apply(this,arguments)},e.Xa=function(e,t,r){function s(e,t,n){u.push({status:e,value:t,index:n})}if(n&&!o){var u=[],a=e.length,f=r.length,l=0;switch(t){case"push":l=a;case"unshift":for(t=0;t<f;t++)s("added",r[t],l+t);break;case"pop":l=a-1;case"shift":a&&s("deleted",e[l],l);break;case"splice":t=Math.min(Math.max(0,0>r[0]?a+r[0]:r[0]),a);for(var a=1===f?a:Math.min(t+(r[1]||0),a),f=t+f-2,l=Math.max(a,f),c=2;t<l;++t,++c)t<a&&s("deleted",e[t],t),t<f&&s("added",r[c],t);break;default:return}i=u}}}},r.h=function(e,t,n){function i(){r.a.n(b,function(e){e.B()}),b=[]}function s(){var e=u.throttleEvaluation;e&&0<=e?(clearTimeout(w),w=setTimeout(o,e)):o()}function o(){if(!c){if(g&&g()){if(!h){y(),l=!0;return}}else h=!1;c=!0;try{var e=r.a.ha(b,function(e){return e.target});r.i.Wa(function(t){var n;0<=(n=r.a.l(e,t))?e[n]=q:b.push(t.T(s))});for(var n=t?p.call(t):p(),i=e.length-1;0<=i;i--)e[i]&&b.splice(i,1)[0].B();l=!0,u.equalityComparer&&u.equalityComparer(f,n)||(u.notifySubscribers(f,"beforeChange"),f=n,u.notifySubscribers(f))}finally{r.i.end(),c=!1}b.length||y()}}function u(){if(0<arguments.length){if("function"!=typeof d)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return d.apply(t,arguments),this}return l||o(),r.i.lb(u),f}function a(){return!l||0<b.length}var f,l=!1,c=!1,h=!1,p=e;p&&"object"==typeof p?(n=p,p=n.read):(n=n||{},p||(p=n.read));if("function"!=typeof p)throw Error("Pass a function that returns the value of the ko.computed");var d=n.write,v=n.disposeWhenNodeIsRemoved||n.I||null,m=n.disposeWhen||n.ua,g=m,y=i,b=[],w=null;return t||(t=n.owner),u.t=function(){return l||o(),f},u.Kb=function(){return b.length},u.Nb="function"==typeof n.write,u.B=function(){y()},u.aa=a,r.ca.call(u),r.a.extend(u,r.h.fn),r.s(u,"peek",u.t),r.s(u,"dispose",u.B),r.s(u,"isActive",u.aa),r.s(u,"getDependenciesCount",u.Kb),v&&(h=!0,v.nodeType&&(g=function(){return!r.a.va(v)||m&&m()})),!0!==n.deferEvaluation&&o(),v&&a()&&(y=function(){r.a.C.mb(v,y),i()},r.a.C.ea(v,y)),u},r.Pb=function(e){return r.ya(e,r.h)},e=r.q.Yb,r.h[e]=r.q,r.h.fn={equalityComparer:t},r.h.fn[e]=r.h,r.b("dependentObservable",r.h),r.b("computed",r.h),r.b("isComputed",r.Pb),function(){function e(r,i,s){s=s||new n,r=i(r);if("object"!=typeof r||null===r||r===q||r instanceof Date||r instanceof String||r instanceof Number||r instanceof Boolean)return r;var o=r instanceof Array?[]:{};return s.save(r,o),t(r,function(t){var n=i(r[t]);switch(typeof n){case"boolean":case"number":case"string":case"function":o[t]=n;break;case"object":case"undefined":var u=s.get(n);o[t]=u!==q?u:e(n,i,s)}}),o}function t(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n)}function n(){this.keys=[],this.Qa=[]}r.tb=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return e(t,function(e){for(var t=0;r.M(e)&&10>t;t++)e=e();return e})},r.toJSON=function(e,t,n){return e=r.tb(e),r.a.Na(e,t,n)},n.prototype={save:function(e,t){var n=r.a.l(this.keys,e);0<=n?this.Qa[n]=t:(this.keys.push(e),this.Qa.push(t))},get:function(e){return e=r.a.l(this.keys,e),0<=e?this.Qa[e]:q}}}(),r.b("toJS",r.tb),r.b("toJSON",r.toJSON),function(){r.k={o:function(e){switch(r.a.v(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?r.a.f.get(e,r.d.options.Ea):7>=r.a.ja?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?r.k.o(e.options[e.selectedIndex]):q;default:return e.value}},na:function(e,t){switch(r.a.v(e)){case"option":switch(typeof t){case"string":r.a.f.set(e,r.d.options.Ea,q),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t;break;default:r.a.f.set(e,r.d.options.Ea,t),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof t?t:""}break;case"select":""===t&&(t=q);if(null===t||t===q)e.selectedIndex=-1;for(var n=e.options.length-1;0<=n;n--)if(r.k.o(e.options[n])==t){e.selectedIndex=n;break}1<e.size||-1!==e.selectedIndex||(e.selectedIndex=0);break;default:if(null===t||t===q)t="";e.value=t}}}}(),r.b("selectExtensions",r.k),r.b("selectExtensions.readValue",r.k.o),r.b("selectExtensions.writeValue",r.k.na),r.g=function(){function e(e){e=r.a.la(e),123===e.charCodeAt(0)&&(e=e.slice(1,-1));var t=[],n=e.match(i),u,a,f=0;if(n){n.push(",");for(var l=0,c;c=n[l];++l){var p=c.charCodeAt(0);if(44===p){if(0>=f){u&&t.push(a?{key:u,value:a.join("")}:{unknown:u}),u=a=f=0;continue}}else if(58===p){if(!a)continue}else if(47===p&&l&&1<c.length)(p=n[l-1].match(s))&&!o[p[0]]&&(e=e.substr(e.indexOf(c)+1),n=e.match(i),n.push(","),l=-1,c="/");else if(40===p||123===p||91===p)++f;else if(41===p||125===p||93===p)--f;else if(!u&&!a){u=34===p||39===p?c.slice(1,-1):c;continue}a?a.push(c):a=[c]}}return t}var t=["true","false","null","undefined"],n=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,i=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),s=/[\])"'A-Za-z0-9_$]+$/,o={"in":1,"return":1,"typeof":1},u={};return{Y:[],U:u,Ga:e,ka:function(i,s){function o(e,i){var s,h=r.getBindingHandler(e);if(h&&h.preprocess?i=h.preprocess(i,e,o):1){if(h=u[e])s=i,0<=r.a.l(t,s)?s=!1:(h=s.match(n),s=null===h?!1:h[1]?"Object("+h[1]+")"+h[2]:s),h=s;h&&f.push("'"+e+"':function(_z){"+s+"=_z}"),l&&(i="function(){return "+i+" }"),a.push("'"+e+"':"+i)}}s=s||{};var a=[],f=[],l=s.valueAccessors,h="string"==typeof i?e(i):i;return r.a.n(h,function(e){o(e.key||e.unknown,e.value)}),f.length&&o("_ko_property_writers","{"+f.join(",")+"}"),a.join(",")},Sb:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},oa:function(e,t,n,i,s){e&&r.M(e)?!r.gb(e)||s&&e.t()===i||e(i):(e=t.get("_ko_property_writers"))&&e[n]&&e[n](i)}}}(),r.b("expressionRewriting",r.g),r.b("expressionRewriting.bindingRewriteValidators",r.g.Y),r.b("expressionRewriting.parseObjectLiteral",r.g.Ga),r.b("expressionRewriting.preProcessBindings",r.g.ka),r.b("expressionRewriting._twoWayBindings",r.g.U),r.b("jsonExpressionRewriting",r.g),r.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",r.g.ka),function(){function e(e){return 8==e.nodeType&&o.test(s?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&u.test(s?e.text:e.nodeValue)}function n(n,r){for(var i=n,s=1,o=[];i=i.nextSibling;){if(t(i)&&(s--,0===s))return o;o.push(i),e(i)&&s++}if(!r)throw Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function i(e,t){var r=n(e,t);return r?0<r.length?r[r.length-1].nextSibling:e.nextSibling:null}var s=w&&"<!--test-->"===w.createComment("test").text,o=s?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,u=s?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,a={ul:!0,ol:!0};r.e={P:{},childNodes:function(t){return e(t)?n(t):t.childNodes},Z:function(t){if(e(t)){t=r.e.childNodes(t);for(var n=0,i=t.length;n<i;n++)r.removeNode(t[n])}else r.a.wa(t)},S:function(t,n){if(e(t)){r.e.Z(t);for(var i=t.nextSibling,s=0,o=n.length;s<o;s++)i.parentNode.insertBefore(n[s],i)}else r.a.S(t,n)},kb:function(t,n){e(t)?t.parentNode.insertBefore(n,t.nextSibling):t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)},eb:function(t,n,i){i?e(t)?t.parentNode.insertBefore(n,i.nextSibling):i.nextSibling?t.insertBefore(n,i.nextSibling):t.appendChild(n):r.e.kb(t,n)},firstChild:function(n){return e(n)?!n.nextSibling||t(n.nextSibling)?null:n.nextSibling:n.firstChild},nextSibling:function(n){return e(n)&&(n=i(n)),n.nextSibling&&t(n.nextSibling)?null:n.nextSibling},Mb:e,bc:function(e){return(e=(s?e.text:e.nodeValue).match(o))?e[1]:null},ib:function(n){if(a[r.a.v(n)]){var s=n.firstChild;if(s)do if(1===s.nodeType){var o;o=s.firstChild;var u=null;if(o)do if(u)u.push(o);else if(e(o)){var f=i(o,!0);f?o=f:u=[o]}else t(o)&&(u=[o]);while(o=o.nextSibling);if(o=u)for(u=s.nextSibling,f=0;f<o.length;f++)u?n.insertBefore(o[f],u):n.appendChild(o[f])}while(s=s.nextSibling)}}}}(),r.b("virtualElements",r.e),r.b("virtualElements.allowedBindings",r.e.P),r.b("virtualElements.emptyNode",r.e.Z),r.b("virtualElements.insertAfter",r.e.eb),r.b("virtualElements.prepend",r.e.kb),r.b("virtualElements.setDomNodeChildren",r.e.S),function(){r.H=function(){this.zb={}},r.a.extend(r.H.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind");case 8:return r.e.Mb(e);default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t);return n?this.parseBindingsString(n,t,e):null},getBindingAccessors:function(e,t){var n=this.getBindingsString(e,t);return n?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return r.e.bc(e);default:return null}},parseBindingsString:function(e,t,n,i){try{var s=this.zb,o=e+(i&&i.valueAccessors||""),u;if(!(u=s[o])){var a,f="with($context){with($data||{}){return{"+r.g.ka(e,i)+"}}}";a=new Function("$context","$element",f),u=s[o]=a}return u(t,n)}catch(l){throw l.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+l.message,l}}}),r.H.instance=new r.H}(),r.b("bindingProvider",r.H),function(){function e(e){return function(){return e}}function t(e){return e()}function n(e){return r.a.Da(r.i.p(e),function(t,n){return function(){return e()[n]}})}function i(e,t){return n(this.getBindings.bind(this,e,t))}function s(e,t,n){var i,s=r.e.firstChild(t),u=r.H.instance,a=u.preprocessNode;if(a){for(;i=s;)s=r.e.nextSibling(i),a.call(u,i);s=r.e.firstChild(t)}for(;i=s;)s=r.e.nextSibling(i),o(e,i,n)}function o(e,t,n){var i=!0,o=1===t.nodeType;o&&r.e.ib(t);if(o&&n||r.H.instance.nodeHasBindings(t))i=a(t,null,e,n).shouldBindDescendants;i&&!l[r.a.v(t)]&&s(e,t,!o)}function u(e){var t=[],n={},i=[];return r.a.K(e,function s(o){if(!n[o]){var u=r.getBindingHandler(o);u&&(u.after&&(i.push(o),r.a.n(u.after,function(t){if(e[t]){if(-1!==r.a.l(i,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+i.join(", "));s(t)}}),i.pop()),t.push({key:o,bb:u})),n[o]=!0}}),t}function a(e,n,s,o){var a=r.a.f.get(e,c);if(!n){if(a)throw Error("You cannot apply bindings multiple times to the same element.");r.a.f.set(e,c,!0)}!a&&o&&r.rb(e,s);var f;if(n&&"function"!=typeof n)f=n;else{var l=r.H.instance,h=l.getBindingAccessors||i;if(n||s.A){var p=r.h(function(){return(f=n?n(s,e):h.call(l,e,s))&&s.A&&s.A(),f},null,{I:e});f&&p.aa()||(p=null)}else f=r.i.p(h,l,[e,s])}var d;if(f){var v=p?function(e){return function(){return t(p()[e])}}:function(e){return f[e]},m=function(){return r.a.Da(p?p():f,t)};m.get=function(e){return f[e]&&t(v(e))},m.has=function(e){return e in f},o=u(f),r.a.n(o,function(t){var n=t.bb.init,i=t.bb.update,o=t.key;if(8===e.nodeType&&!r.e.P[o])throw Error("The binding '"+o+"' cannot be used with virtual elements");try{"function"==typeof n&&r.i.p(function(){var t=n(e,v(o),m,s.$data,s);if(t&&t.controlsDescendantBindings){if(d!==q)throw Error("Multiple bindings ("+d+" and "+o+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");d=o}}),"function"==typeof i&&r.h(function(){i(e,v(o),m,s.$data,s)},null,{I:e})}catch(u){throw u.message='Unable to process binding "'+o+": "+f[o]+'"\nMessage: '+u.message,u}})}return{shouldBindDescendants:d===q}}function f(e){return e&&e instanceof r.G?e:new r.G(e)}r.d={};var l={script:!0};r.getBindingHandler=function(e){return r.d[e]},r.G=function(e,t,n,i){var s=this,o="function"==typeof e,u,a=r.h(function(){var u=o?e():e;return t?(t.A&&t.A(),r.a.extend(s,t),a&&(s.A=a)):(s.$parents=[],s.$root=u,s.ko=r),s.$rawData=e,s.$data=u,n&&(s[n]=u),i&&i(s,t,u),s.$data},null,{ua:function(){return u&&!r.a.Ra(u)},I:!0});a.aa()&&(s.A=a,a.equalityComparer=null,u=[],a.wb=function(e){u.push(e),r.a.C.ea(e,function(e){r.a.ia(u,e),u.length||(a.B(),s.A=a=q)})})},r.G.prototype.createChildContext=function(e,t,n){return new r.G(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)})},r.G.prototype.extend=function(e){return new r.G(this.$rawData,this,null,function(t){r.a.extend(t,"function"==typeof e?e():e)})};var c=r.a.f.D(),h=r.a.f.D();r.rb=function(e,t){if(2!=arguments.length)return r.a.f.get(e,h);r.a.f.set(e,h,t),t.A&&t.A.wb(e)},r.pa=function(e,t,n){return 1===e.nodeType&&r.e.ib(e),a(e,t,f(n),!0)},r.xb=function(t,i,s){return s=f(s),r.pa(t,"function"==typeof i?n(i.bind(null,s,t)):r.a.Da(i,e),s)},r.Ta=function(e,t){1!==t.nodeType&&8!==t.nodeType||s(f(e),t,!0)},r.Sa=function(e,t){if(t&&1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");t=t||y.document.body,o(f(e),t,!0)},r.ta=function(e){switch(e.nodeType){case 1:case 8:var t=r.rb(e);if(t)return t;if(e.parentNode)return r.ta(e.parentNode)}return q},r.Cb=function(e){return(e=r.ta(e))?e.$data:q},r.b("bindingHandlers",r.d),r.b("applyBindings",r.Sa),r.b("applyBindingsToDescendants",r.Ta),r.b("applyBindingAccessorsToNode",r.pa),r.b("applyBindingsToNode",r.xb),r.b("contextFor",r.ta),r.b("dataFor",r.Cb)}();var f={"class":"className","for":"htmlFor"};r.d.attr={update:function(e,t){var n=r.a.c(t())||{};r.a.K(n,function(t,n){n=r.a.c(n);var i=!1===n||null===n||n===q;i&&e.removeAttribute(t),8>=r.a.ja&&t in f?(t=f[t],i?e.removeAttribute(t):e[t]=n):i||e.setAttribute(t,n.toString()),"name"===t&&r.a.pb(e,i?"":n.toString())})}},function(){r.d.checked={after:["value","attr"],init:function(e,t,n){function i(){return n.has("checkedValue")?r.a.c(n.get("checkedValue")):e.value}function s(){var s=e.checked,o=c?i():s;if(h&&(!a||s)){var u=r.i.p(t);f?l!==o?(s&&(r.a.V(u,o,!0),r.a.V(u,l,!1)),l=o):r.a.V(u,o,s):r.g.oa(u,n,"checked",o,!0)}}function o(){var n=r.a.c(t());e.checked=f?0<=r.a.l(n,i()):u?n:i()===n}var u="checkbox"==e.type,a="radio"==e.type;if(u||a){var f=u&&r.a.c(t())instanceof Array,l=f?i():q,c=a||f,h=!1;a&&!e.name&&r.d.uniqueName.init(e,function(){return!0}),r.h(s,null,{I:e}),r.a.r(e,"click",s),r.h(o,null,{I:e}),h=!0}}},r.g.U.checked=!0,r.d.checkedValue={update:function(e,t){e.value=r.a.c(t())}}}(),r.d.css={update:function(e,t){var n=r.a.c(t());"object"==typeof n?r.a.K(n,function(t,n){n=r.a.c(n),r.a.ma(e,t,n)}):(n=String(n||""),r.a.ma(e,e.__ko__cssValue,!1),e.__ko__cssValue=n,r.a.ma(e,n,!0))}},r.d.enable={update:function(e,t){var n=r.a.c(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},r.d.disable={update:function(e,t){r.d.enable.update(e,function(){return!r.a.c(t())})}},r.d.event={init:function(e,t,n,i,s){var o=t()||{};r.a.K(o,function(o){"string"==typeof o&&r.a.r(e,o,function(e){var u,a=t()[o];if(a){try{var f=r.a.Q(arguments);i=s.$data,f.unshift(i),u=a.apply(i,f)}finally{!0!==u&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===n.get(o+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},r.d.foreach={hb:function(e){return function(){var t=e(),n=r.a.Ha(t);return!n||"number"==typeof n.length?{foreach:t,templateEngine:r.J.Aa}:(r.a.c(t),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:r.J.Aa})}},init:function(e,t){return r.d.template.init(e,r.d.foreach.hb(t))},update:function(e,t,n,i,s){return r.d.template.update(e,r.d.foreach.hb(t),n,i,s)}},r.g.Y.foreach=!1,r.e.P.foreach=!0,r.d.hasfocus={init:function(e,t,n){function i(i){e.__ko_hasfocusUpdating=!0;var s=e.ownerDocument;if("activeElement"in s){var o;try{o=s.activeElement}catch(u){o=s.body}i=o===e}s=t(),r.g.oa(s,n,"hasfocus",i,!0),e.__ko_hasfocusLastValue=i,e.__ko_hasfocusUpdating=!1}var s=i.bind(null,!0),o=i.bind(null,!1);r.a.r(e,"focus",s),r.a.r(e,"focusin",s),r.a.r(e,"blur",o),r.a.r(e,"focusout",o)},update:function(e,t){var n=!!r.a.c(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===n||(n?e.focus():e.blur(),r.i.p(r.a.da,null,[e,n?"focusin":"focusout"]))}},r.g.U.hasfocus=!0,r.d.hasFocus=r.d.hasfocus,r.g.U.hasFocus=!0,r.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){r.a.Ka(e,t())}};var l=r.a.f.D();n("if"),n("ifnot",!1,!0),n("with",!0,!1,function(e,t){return e.createChildContext(t)}),r.d.options={init:function(e){if("select"!==r.a.v(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,t,n){function i(){return r.a.ga(e.options,function(e){return e.selected})}function s(e,t,n){var r=typeof t;return"function"==r?t(e):"string"==r?e[t]:n}function o(t,n){if(l.length){var i=0<=r.a.l(l,r.k.o(n[0]));r.a.qb(n[0],i),h&&!i&&r.i.p(r.a.da,null,[e,"change"])}}var u=0!=e.length&&e.multiple?e.scrollTop:null;t=r.a.c(t());var a=n.get("optionsIncludeDestroyed"),f={},l;l=e.multiple?r.a.ha(i(),r.k.o):0<=e.selectedIndex?[r.k.o(e.options[e.selectedIndex])]:[];if(t){"undefined"==typeof t.length&&(t=[t]);var c=r.a.ga(t,function(e){return a||e===q||null===e||!r.a.c(e._destroy)});n.has("optionsCaption")&&(t=r.a.c(n.get("optionsCaption")),null!==t&&t!==q&&c.unshift(f))}else t=[];var h=!1;t=o,n.has("optionsAfterRender")&&(t=function(e,t){o(0,t),r.i.p(n.get("optionsAfterRender"),null,[t[0],e!==f?e:q])}),r.a.Ja(e,c,function(e,t,i){return i.length&&(l=i[0].selected?[r.k.o(i[0])]:[],h=!0),t=w.createElement("option"),e===f?(r.a.Ma(t,n.get("optionsCaption")),r.k.na(t,q)):(i=s(e,n.get("optionsValue"),e),r.k.na(t,r.a.c(i)),e=s(e,n.get("optionsText"),i),r.a.Ma(t,e)),[t]},null,t),(e.multiple?l.length&&i().length<l.length:l.length&&0<=e.selectedIndex?r.k.o(e.options[e.selectedIndex])!==l[0]:l.length||0<=e.selectedIndex)&&r.i.p(r.a.da,null,[e,"change"]),r.a.Hb(e),u&&20<Math.abs(u-e.scrollTop)&&(e.scrollTop=u)}},r.d.options.Ea=r.a.f.D(),r.d.selectedOptions={after:["options","foreach"],init:function(e,t,n){r.a.r(e,"change",function(){var i=t(),s=[];r.a.n(e.getElementsByTagName("option"),function(e){e.selected&&s.push(r.k.o(e))}),r.g.oa(i,n,"selectedOptions",s)})},update:function(e,t){if("select"!=r.a.v(e))throw Error("values binding applies only to SELECT elements");var n=r.a.c(t());n&&"number"==typeof n.length&&r.a.n(e.getElementsByTagName("option"),function(e){var t=0<=r.a.l(n,r.k.o(e));r.a.qb(e,t)})}},r.g.U.selectedOptions=!0,r.d.style={update:function(e,t){var n=r.a.c(t()||{});r.a.K(n,function(t,n){n=r.a.c(n),e.style[t]=n||""})}},r.d.submit={init:function(e,t,n,i,s){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");r.a.r(e,"submit",function(n){var r,i=t();try{r=i.call(s.$data,e)}finally{!0!==r&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},r.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){r.a.Ma(e,t())}},r.e.P.text=!0,r.d.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++r.d.uniqueName.Bb;r.a.pb(e,n)}}},r.d.uniqueName.Bb=0,r.d.value={after:["options","foreach"],init:function(e,t,n){function i(){u=!1;var i=t(),s=r.k.o(e);r.g.oa(i,n,"value",s)}var s=["change"],o=n.get("valueUpdate"),u=!1;o&&("string"==typeof o&&(o=[o]),r.a.X(s,o),s=r.a.Va(s)),!r.a.ja||"input"!=e.tagName.toLowerCase()||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=r.a.l(s,"propertychange")||(r.a.r(e,"propertychange",function(){u=!0}),r.a.r(e,"blur",function(){u&&i()})),r.a.n(s,function(t){var n=i;r.a.ac(t,"after")&&(n=function(){setTimeout(i,0)},t=t.substring(5)),r.a.r(e,t,n)})},update:function(e,t){var n="select"===r.a.v(e),i=r.a.c(t()),s=r.k.o(e);i!==s&&(s=function(){r.k.na(e,i)},s(),n&&(i!==r.k.o(e)?r.i.p(r.a.da,null,[e,"change"]):setTimeout(s,0)))}},r.g.U.value=!0,r.d.visible={update:function(e,t){var n=r.a.c(t()),i="none"!=e.style.display;n&&!i?e.style.display="":!n&&i&&(e.style.display="none")}},function(e){r.d[e]={init:function(t,n,i,s,o){return r.d.event.init.call(this,t,function(){var t={};return t[e]=n(),t},i,s,o)}}}("click"),r.w=function(){},r.w.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},r.w.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},r.w.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){t=t||w;var n=t.getElementById(e);if(!n)throw Error("Cannot find template with ID "+e);return new r.m.j(n)}if(1==e.nodeType||8==e.nodeType)return new r.m.W(e);throw Error("Unknown template type: "+e)},r.w.prototype.renderTemplate=function(e,t,n,r){return e=this.makeTemplateSource(e,r),this.renderTemplateSource(e,t,n)},r.w.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(e,t).data("isRewritten")},r.w.prototype.rewriteTemplate=function(e,t,n){e=this.makeTemplateSource(e,n),t=t(e.text()),e.text(t),e.data("isRewritten",!0)},r.b("templateEngine",r.w),r.Oa=function(){function e(e,t,n,i){e=r.g.Ga(e);for(var s=r.g.Y,o=0;o<e.length;o++){var u=e[o].key;if(s.hasOwnProperty(u)){var a=s[u];if("function"==typeof a){if(u=a(e[o].value))throw Error(u)}else if(!a)throw Error("This template engine does not support the '"+u+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+r.g.ka(e,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",i.createJavaScriptEvaluatorBlock(n)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Ib:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return r.Oa.Ub(e,t)},n)},Ub:function(r,i){return r.replace(t,function(t,n,r,s,o){return e(o,n,r,i)}).replace(n,function(t,n){return e(n,"<!-- ko -->","#comment",i)})},yb:function(e,t){return r.u.Ca(function(n,i){var s=n.nextSibling;s&&s.nodeName.toLowerCase()===t&&r.pa(s,e,i)})}}}(),r.b("__tr_ambtns",r.Oa.yb),function(){r.m={},r.m.j=function(e){this.j=e},r.m.j.prototype.text=function(){var e=r.a.v(this.j),e="script"===e?"text":"textarea"===e?"value":"innerHTML";if(0==arguments.length)return this.j[e];var t=arguments[0];"innerHTML"===e?r.a.Ka(this.j,t):this.j[e]=t};var e=r.a.f.D()+"_";r.m.j.prototype.data=function(t){if(1===arguments.length)return r.a.f.get(this.j,e+t);r.a.f.set(this.j,e+t,arguments[1])};var t=r.a.f.D();r.m.W=function(e){this.j=e},r.m.W.prototype=new r.m.j,r.m.W.prototype.text=function(){if(0==arguments.length){var e=r.a.f.get(this.j,t)||{};return e.Pa===q&&e.sa&&(e.Pa=e.sa.innerHTML),e.Pa}r.a.f.set(this.j,t,{Pa:arguments[0]})},r.m.j.prototype.nodes=function(){if(0==arguments.length)return(r.a.f.get(this.j,t)||{}).sa;r.a.f.set(this.j,t,{sa:arguments[0]})},r.b("templateSources",r.m),r.b("templateSources.domElement",r.m.j),r.b("templateSources.anonymousTemplate",r.m.W)}(),function(){function e(e,t,n){var i;for(t=r.e.nextSibling(t);e&&(i=e)!==t;)e=r.e.nextSibling(i),n(i,e)}function t(t,n){if(t.length){var i=t[0],s=t[t.length-1],o=i.parentNode,u=r.H.instance,a=u.preprocessNode;if(a){e(i,s,function(e,t){var n=e.previousSibling,r=a.call(u,e);r&&(e===i&&(i=r[0]||t),e===s&&(s=r[r.length-1]||n))}),t.length=0;if(!i)return;i===s?t.push(i):(t.push(i,s),r.a.$(t,o))}e(i,s,function(e){1!==e.nodeType&&8!==e.nodeType||r.Sa(n,e)}),e(i,s,function(e){1!==e.nodeType&&8!==e.nodeType||r.u.vb(e,[n])}),r.a.$(t,o)}}function n(e){return e.nodeType?e:0<e.length?e[0]:null}function i(e,i,o,u,a){a=a||{};var f=e&&n(e),f=f&&f.ownerDocument,l=a.templateEngine||s;r.Oa.Ib(o,l,f),o=l.renderTemplate(o,u,a,f);if("number"!=typeof o.length||0<o.length&&"number"!=typeof o[0].nodeType)throw Error("Template engine must return an array of DOM nodes");f=!1;switch(i){case"replaceChildren":r.e.S(e,o),f=!0;break;case"replaceNode":r.a.nb(e,o),f=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+i)}return f&&(t(o,u),a.afterRender&&r.i.p(a.afterRender,null,[o,u.$data])),o}var s;r.La=function(e){if(!(e==q||e instanceof r.w))throw Error("templateEngine must inherit from ko.templateEngine");s=e},r.Ia=function(e,t,o,u,a){o=o||{};if((o.templateEngine||s)==q)throw Error("Set a template engine before calling renderTemplate");a=a||"replaceChildren";if(u){var f=n(u);return r.h(function(){var s=t&&t instanceof r.G?t:new r.G(r.a.c(t)),l="function"==typeof e?e(s.$data,s):e,s=i(u,a,l,s,o);"replaceNode"==a&&(u=s,f=n(u))},null,{ua:function(){return!f||!r.a.va(f)},I:f&&"replaceNode"==a?f.parentNode:f})}return r.u.Ca(function(n){r.Ia(e,t,o,n,"replaceNode")})},r.$b=function(e,n,s,o,u){function a(e,n){t(n,l),s.afterRender&&s.afterRender(n,e)}function f(t,n){l=u.createChildContext(t,s.as,function(e){e.$index=n});var r="function"==typeof e?e(t,l):e;return i(null,"ignoreTargetNode",r,l,s)}var l;return r.h(function(){var e=r.a.c(n)||[];"undefined"==typeof e.length&&(e=[e]),e=r.a.ga(e,function(e){return s.includeDestroyed||e===q||null===e||!r.a.c(e._destroy)}),r.i.p(r.a.Ja,null,[o,e,f,s,a])},null,{I:o})};var o=r.a.f.D();r.d.template={init:function(e,t){var n=r.a.c(t());return"string"==typeof n||n.name?r.e.Z(e):(n=r.e.childNodes(e),n=r.a.Vb(n),(new r.m.W(e)).nodes(n)),{controlsDescendantBindings:!0}},update:function(e,t,n,i,s){t=r.a.c(t()),n={},i=!0;var u,a=null;"string"!=typeof t&&(n=t,t=r.a.c(n.name),"if"in n&&(i=r.a.c(n["if"])),i&&"ifnot"in n&&(i=!r.a.c(n.ifnot)),u=r.a.c(n.data)),"foreach"in n?a=r.$b(t||e,i&&n.foreach||[],n,e,s):i?(s="data"in n?s.createChildContext(u,n.as):s,a=r.Ia(t||e,s,n,e)):r.e.Z(e),s=a,(u=r.a.f.get(e,o))&&"function"==typeof u.B&&u.B(),r.a.f.set(e,o,s&&s.aa()?s:q)}},r.g.Y.template=function(e){return e=r.g.Ga(e),1==e.length&&e[0].unknown||r.g.Sb(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},r.e.P.template=!0}(),r.b("setTemplateEngine",r.La),r.b("renderTemplate",r.Ia),r.a.ra=function(){function e(e,t,n,r,i){var s=Math.min,o=Math.max,u=[],a,f=e.length,l,c=t.length,h=c-f||1,p=f+c+1,d,v,m;for(a=0;a<=f;a++)for(v=d,u.push(d=[]),m=s(c,a+h),l=o(0,a-1);l<=m;l++)d[l]=l?a?e[a-1]===t[l-1]?v[l-1]:s(v[l]||p,d[l-1]||p)+1:l+1:a+1;s=[],o=[],h=[],a=f;for(l=c;a||l;)c=u[a][l]-1,l&&c===u[a][l-1]?o.push(s[s.length]={status:n,value:t[--l],index:l}):a&&c===u[a-1][l]?h.push(s[s.length]={status:r,value:e[--a],index:a}):(--l,--a,i.sparse||s.push({status:"retained",value:t[l]}));if(o.length&&h.length){e=10*f;var g;for(t=n=0;(i.dontLimitMoves||t<e)&&(g=o[n]);n++){for(r=0;u=h[r];r++)if(g.value===u.value){g.moved=u.index,u.moved=g.index,h.splice(r,1),t=r=0;break}t+=r}}return s.reverse()}return function(t,n,r){return r="boolean"==typeof r?{dontLimitMoves:r}:r||{},t=t||[],n=n||[],t.length<=n.length?e(t,n,"added","deleted",r):e(n,t,"deleted","added",r)}}(),r.b("utils.compareArrays",r.a.ra),function(){function e(e,t,n,i,s){var o=[],u=r.h(function(){var u=t(n,s,r.a.$(o,e))||[];0<o.length&&(r.a.nb(o,u),i&&r.i.p(i,null,[n,u,s])),o.splice(0,o.length),r.a.X(o,u)},null,{I:e,ua:function(){return!r.a.Ra(o)}});return{R:o,h:u.aa()?u:q}}var t=r.a.f.D();r.a.Ja=function(n,i,s,o,u){function a(e,t){S=h[t],g!==t&&(E[e]=S),S.za(g++),r.a.$(S.R,n),v.push(S),w.push(S)}function f(e,t){if(e)for(var n=0,i=t.length;n<i;n++)t[n]&&r.a.n(t[n].R,function(r){e(r,n,t[n].fa)})}i=i||[],o=o||{};var l=r.a.f.get(n,t)===q,h=r.a.f.get(n,t)||[],p=r.a.ha(h,function(e){return e.fa}),d=r.a.ra(p,i,o.dontLimitMoves),v=[],m=0,g=0,y=[],w=[];i=[];for(var E=[],p=[],S,x=0,T,N;T=d[x];x++)switch(N=T.moved,T.status){case"deleted":N===q&&(S=h[m],S.h&&S.h.B(),y.push.apply(y,r.a.$(S.R,n)),o.beforeRemove&&(i[x]=S,w.push(S))),m++;break;case"retained":a(x,m++);break;case"added":N!==q?a(x,N):(S={fa:T.value,za:r.q(g++)},v.push(S),w.push(S),l||(p[x]=S))}f(o.beforeMove,E),r.a.n(y,o.beforeRemove?r.L:r.removeNode);for(var x=0,l=r.e.firstChild(n),C;S=w[x];x++){S.R||r.a.extend(S,e(n,s,S.fa,u,S.za));for(m=0;d=S.R[m];l=d.nextSibling,C=d,m++)d!==l&&r.e.eb(n,d,C);!S.Ob&&u&&(u(S.fa,S.R,S.za),S.Ob=!0)}f(o.beforeRemove,i),f(o.afterMove,E),f(o.afterAdd,p),r.a.f.set(n,t,v)}}(),r.b("utils.setDomNodeChildrenFromArrayMapping",r.a.Ja),r.J=function(){this.allowTemplateRewriting=!1},r.J.prototype=new r.w,r.J.prototype.renderTemplateSource=function(e){var t=(9>r.a.ja?0:e.nodes)?e.nodes():null;return t?r.a.Q(t.cloneNode(!0).childNodes):(e=e.text(),r.a.Fa(e))},r.J.Aa=new r.J,r.La(r.J.Aa),r.b("nativeTemplateEngine",r.J),function(){r.Ba=function(){var e=this.Rb=function(){if("undefined"==typeof u||!u.tmpl)return 0;try{if(0<=u.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,n,r){r=r||{};if(2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var i=t.data("precompiled");return i||(i=t.text()||"",i=u.template(null,"{{ko_with $item.koBindingContext}}"+i+"{{/ko_with}}"),t.data("precompiled",i)),t=[n.$data],n=u.extend({koBindingContext:n},r.templateOptions),n=u.tmpl(i,t,n),n.appendTo(w.createElement("div")),u.fragments={},n},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){w.write("<script type='text/html' id='"+e+"'>"+t+"</script>")},0<e&&(u.tmpl.tag.ko_code={open:"__.push($1 || '');"},u.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},r.Ba.prototype=new r.w;var e=new r.Ba;0<e.Rb&&r.La(e),r.b("jqueryTmplTemplateEngine",r.Ba)}()})})()}(),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.6.0";var T=x.each=x.forEach=function(e,t,r){if(e==null)return e;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else{var o=x.keys(e);for(var i=0,s=o.length;i<s;i++)if(t.call(r,e[o[i]],o[i],e)===n)return}return e};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matches(t))},x.findWhere=function(e,t){return x.find(e,x.matches(t))},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var r=-Infinity,i=-Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u>i&&(r=e,i=u)}),r},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var r=Infinity,i=Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u<i&&(r=e,i=u)}),r},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r},x.sample=function(e,t,n){return t==null||n?(e.length!==+e.length&&(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))};var k=function(e){return e==null?x.identity:x.isFunction(e)?e:x.property(e)};x.sortBy=function(e,t,n){return t=k(t),x.pluck(x.map(e,function(e,r,i){return{value:e,index:r,criteria:t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var L=function(e){return function(t,n,r){var i={};return n=k(n),T(t,function(s,o){var u=n.call(r,s,o,t);e(i,u,s)}),i}};x.groupBy=L(function(e,t,n){x.has(e,t)?e[t].push(n):e[t]=[n]}),x.indexBy=L(function(e,t,n){e[t]=n}),x.countBy=L(function(e,t){x.has(e,t)?e[t]++:e[t]=1}),x.sortedIndex=function(e,t,n,r){n=k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:t<0?[]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return t&&x.every(e,x.isArray)?a.apply(n,e):(T(e,function(e){x.isArray(e)||x.isArguments(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n)};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.partition=function(e,t){var n=[],r=[];return T(e,function(e){(t(e)?n:r).push(e)}),[n,r]},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.contains(t,e)})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=x.pluck(arguments,""+n);return t},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(S&&e.bind===S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){var n=0,r=t.slice();for(var i=0,s=r.length;i<s;i++)r[i]===x&&(r[i]=arguments[n++]);while(n<arguments.length)r.push(arguments[n++]);return e.apply(this,r)}},x.bindAll=function(e){var t=u.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:x.now(),o=null,s=e.apply(r,i),r=i=null};return function(){var f=x.now();!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,u=f,s=e.apply(r,i),r=i=null):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},x.debounce=function(e,t,n){var r,i,s,o,u,a=function(){var f=x.now()-o;f<t?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i),s=i=null))};return function(){s=this,i=arguments,o=x.now();var f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i),s=i=null),u}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return x.partial(t,e)},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.keys=function(e){if(!x.isObject(e))return[];if(E)return E(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);return t},x.values=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},x.pairs=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},x.invert=function(e){var t={},n=x.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),r.push(t);var a=0,l=!0;if(i=="[object Array]"){a=e.length,l=a==t.length;if(l)while(a--)if(!(l=M(e[a],t[a],n,r)))break}else{for(var c in e)if(x.has(e,c)){a++;if(!(l=x.has(t,c)&&M(e[c],t[c],n,r)))break}if(l){for(c in t)if(x.has(t,c)&&!(a--))break;l=!a}}return n.pop(),r.pop(),l};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.property=function(e){return function(t){return t[e]}},x.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},x.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};_.unescape=x.invert(_.escape);var D={escape:new RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(e==null)return void 0;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=++P+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(j,function(e){return"\\"+B[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),typeof define=="function"&&define.amd&&define("underscore",[],function(){return x})}.call(this),function(e,t){"object"==typeof module&&module.exports?module.exports=function(e){return e=e||require("underscore"),t(e)}:"function"==typeof define&&define.amd?define("postal",["underscore"],function(r){return t(r,e)}):e.postal=t(e._,e)}(this,function(e,t){var n,r=function(){var t;return function(n){var r=!1;return e.isString(n)?(r=n===t,t=n):(r=e.isEqual(n,t),t=e.clone(n)),!r}},i=function(){var t=[];return function(n){var r=!e.any(t,function(t){return e.isObject(n)||e.isArray(n)?e.isEqual(n,t):n===t});return r&&t.push(n),r}},s=function(e){this.channel=e||n.configuration.DEFAULT_CHANNEL};s.prototype.subscribe=function(){return 1===arguments.length?new o(this.channel,arguments[0].topic,arguments[0].callback):new o(this.channel,arguments[0],arguments[1])},s.prototype.publish=function(){var e=1===arguments.length?"[object String]"===Object.prototype.toString.call(arguments[0])?{topic:arguments[0]}:arguments[0]:{topic:arguments[0],data:arguments[1]};return e.channel=this.channel,n.configuration.bus.publish(e)};var o=function(e,t,r){this.channel=e,this.topic=t,this.callback=r,this.constraints=[],this.context=null,n.configuration.bus.publish({channel:n.configuration.SYSTEM_CHANNEL,topic:"subscription.created",data:{event:"subscription.created",channel:e,topic:t}}),n.configuration.bus.subscribe(this)};o.prototype={unsubscribe:function(){this.inactive||(this.inactive=!0,n.configuration.bus.unsubscribe(this),n.configuration.bus.publish({channel:n.configuration.SYSTEM_CHANNEL,topic:"subscription.removed",data:{event:"subscription.removed",channel:this.channel,topic:this.topic}}))},defer:function(){var e=this,t=this.callback;return this.callback=function(n,r){setTimeout(function(){t.call(e.context,n,r)},0)},this},disposeAfter:function(t){if(e.isNaN(t)||0>=t)throw"The value provided to disposeAfter (maxCalls) must be a number greater than zero.";var n=this,r=this.callback,i=e.after(t,e.bind(function(){this.unsubscribe()},this));return this.callback=function(){r.apply(n.context,arguments),i()},this},distinctUntilChanged:function(){return this.withConstraint(new r),this},distinct:function(){return this.withConstraint(new i),this},once:function(){return this.disposeAfter(1),this},withConstraint:function(t){if(!e.isFunction(t))throw"Predicate constraint must be a function";return this.constraints.push(t),this},withConstraints:function(t){var n=this;return e.isArray(t)&&e.each(t,function(e){n.withConstraint(e)}),n},withContext:function(e){return this.context=e,this},withDebounce:function(t,n){if(e.isNaN(t))throw"Milliseconds must be a number";var r=this.callback;return this.callback=e.debounce(r,t,!!n),this},withDelay:function(t){if(e.isNaN(t))throw"Milliseconds must be a number";var n=this,r=this.callback;return this.callback=function(e,i){setTimeout(function(){r.call(n.context,e,i)},t)},this},withThrottle:function(t){if(e.isNaN(t))throw"Milliseconds must be a number";var n=this.callback;return this.callback=e.throttle(n,t),this},subscribe:function(e){return this.callback=e,this}};var u={cache:{},regex:{},compare:function(t,n){var r,i,s,o=this.cache[n]&&this.cache[n][t];return o!==undefined?o:((i=this.regex[t])||(r="^"+e.map(t.split("."),function(e){var t="";return s&&(t="#"!==s?"\\.\\b":"\\b"),t+="#"===e?"[\\s\\S]*":"*"===e?"[^.]+":e,s=e,t}).join("")+"$",i=this.regex[t]=RegExp(r)),this.cache[n]=this.cache[n]||{},this.cache[n][t]=o=i.test(n),o)},reset:function(){this.cache={},this.regex={}}},a=function(t,r){!t.inactive&&n.configuration.resolver.compare(t.topic,r.topic)&&e.all(t.constraints,function(e){return e.call(t.context,r.data,r)})&&"function"==typeof t.callback&&t.callback.call(t.context,r.data,r)},f=0,l=[],c=function(){for(;l.length;)h.unsubscribe(l.shift())},h={addWireTap:function(e){var t=this;return t.wireTaps.push(e),function(){var n=t.wireTaps.indexOf(e);-1!==n&&t.wireTaps.splice(n,1)}},publish:function(t){return++f,t.timeStamp=new Date,e.each(this.wireTaps,function(e){e(t.data,t)}),this.subscriptions[t.channel]&&e.each(this.subscriptions[t.channel],function(e){for(var n,r=0,i=e.length;i>r;)(n=e[r++])&&a(n,t)}),0===--f&&c(),t},reset:function(){this.subscriptions&&(e.each(this.subscriptions,function(t){e.each(t,function(e){for(;e.length;)e.pop().unsubscribe()})}),this.subscriptions={})},subscribe:function(e){var t,n=this.subscriptions[e.channel];return n||(n=this.subscriptions[e.channel]={}),t=this.subscriptions[e.channel][e.topic],t||(t=this.subscriptions[e.channel][e.topic]=[]),t.push(e),e},subscriptions:{},wireTaps:[],unsubscribe:function(e){if(f)return l.push(e),undefined;if(this.subscriptions[e.channel][e.topic])for(var t=this.subscriptions[e.channel][e.topic].length,n=0;t>n;){if(this.subscriptions[e.channel][e.topic][n]===e){this.subscriptions[e.channel][e.topic].splice(n,1);break}n+=1}}};if(n={configuration:{bus:h,resolver:u,DEFAULT_CHANNEL:"/",SYSTEM_CHANNEL:"postal"},ChannelDefinition:s,SubscriptionDefinition:o,channel:function(e){return new s(e)},subscribe:function(e){return new o(e.channel||n.configuration.DEFAULT_CHANNEL,e.topic,e.callback)},publish:function(e){return e.channel=e.channel||n.configuration.DEFAULT_CHANNEL,n.configuration.bus.publish(e)},addWireTap:function(e){return this.configuration.bus.addWireTap(e)},linkChannels:function(t,r){var i=[];return t=e.isArray(t)?t:[t],r=e.isArray(r)?r:[r],e.each(t,function(t){var s=t.topic||"#";e.each(r,function(r){var o=r.channel||n.configuration.DEFAULT_CHANNEL;i.push(n.subscribe({channel:t.channel||n.configuration.DEFAULT_CHANNEL,topic:s,callback:function(t,i){var s=e.clone(i);s.topic=e.isFunction(r.topic)?r.topic(i.topic):r.topic||i.topic,s.channel=o,s.data=t,n.publish(s)}}))})}),i},utils:{getSubscribersFor:function(){var e=arguments[0],t=arguments[1];return 1===arguments.length&&(e=arguments[0].channel||n.configuration.DEFAULT_CHANNEL,t=arguments[0].topic),n.configuration.bus.subscriptions[e]&&Object.prototype.hasOwnProperty.call(n.configuration.bus.subscriptions[e],t)?n.configuration.bus.subscriptions[e][t]:[]},reset:function(){n.configuration.bus.reset(),n.configuration.resolver.reset()}}},h.subscriptions[n.configuration.SYSTEM_CHANNEL]={},t&&Object.prototype.hasOwnProperty.call(t,"__postalReady__")&&e.isArray(t.__postalReady__))for(;t.__postalReady__.length;)t.__postalReady__.shift().onReady(n);return n}),define("galaxy",["q","knockout","postal"],function(e,t,n){var r=function(e){this.message=e,this.name="UnregisteredViewWarning"},i=function(e){this.message=e,this.name="MissingViewModelException"},s=function(e){this.message=e,this.name="MissingDOMElementException"},o=function(e){this.message=e,this.name="MissingOptionException"},u=function(){this.network=n.channel("galaxy"),this.viewmodelDirectory="/app/viewmodel",this.viewDirectory="/app/view",this.federation=[],this.currentLocation=null,this.StarChart=this.StarChartConstructor()};return u.prototype.route=function(e){var t={pattern:e,viewmodelId:null,callback:null};return{to:function(e){return t.viewmodelId=e,this.StarChart.addRoute(t),{then:function(e){t.callback=e,this.StarChart.updateRoute(t)}.bind(this)}}.bind(this)}},u.prototype.warp=function(){var e={},t=function(){this.StarChart.warp(e)}.bind(this);return{to:function(n){return e.location=n,{engage:t,"with":function(n){return e.payload=n,{engage:t}}}}}},u.prototype.create=function(e){e&&this.setOptions(e),requirejs.onError=function(t){console.error(new i("Unable to find the location of `"+this.currentLocation+".js`. "+t.message))}.bind(this),this.StarChart.scan(),window.addEventListener("popstate",function(t){this.StarChart.scan()}.bind(this))},u.prototype.setOptions=function(e){e&&e.hasOwnProperty("channel")&&e.channel!==""&&(this.network=n.channel(e.channel)),e&&e.hasOwnProperty("viewmodelDirectory")&&(this.viewmodelDirectory=e.viewmodelDirectory),e&&e.hasOwnProperty("viewDirectory")&&(this.viewDirectory=e.viewDirectory)},u.prototype.getDOMElements=function(e){var t=e.substr(0,1)==="."?"class":"id",n=e.replace(/[\.#]/,""),r=[];if(t==="class"){var i=document.getElementsByClassName(n);if(i.length)for(var o in i)typeof i[o]=="object"&&(r[r.length]=i[o])}else t==="id"&&(r[r.length]=document.getElementById(n));if(r[r.length-1]===null)throw new s("The DOM element you specified ("+e+") for view model `"+this.currentLocation+"` was not found.");return r},u.prototype.loadViewModel=function(t){var n=e.defer(),i=this.federation.filter(function(e){return e.id===t})[0];return i?n.resolve(i):(console.warn(new r("Location with id `"+t+"` has not joined the federation. Attempting to join in now.")),require([this.viewmodelDirectory+"/"+t+".js"],function(t){this.join(t),n.resolve(t)}.bind(this))),n.promise},u.prototype.join=function(e){e.hasOwnProperty("__joined")?e.hasOwnProperty("__parent")||console.warn("The view model with id `"+e.id+"` has already joined the federation."):(e.hasOwnProperty("children")&&e.children.length>0&&e.children.map(function(t){t.__parent=e.id}),e.hasOwnProperty("__loaded")||(e.__loaded=!1),e.hasOwnProperty("show")||(e.show=function(){this.render(e.id)}.bind(this)),e.__joined=!0,this.federation.push(e),this.network.publish(e.id+".joined"))},u.prototype.loadTemplate=function(n){var r=e.defer(),i=this.federation.filter(function(e){return e.id===n})[0];if(i)if(!i.__loaded){var s=[this.viewDirectory,"/",i.templatePath].join("");this.getDOMElements(i.domBindingId).forEach(function(n){var o=new XMLHttpRequest;o.open("GET",s,!0),o.onloadend=function(s){if(s.target.status===200||s.target.status===302)n.innerHTML=s.target.responseText,t.applyBindings(i,n),i.__loaded=!0,this.network.publish(i.id+".bound"),r.resolve()}.bind(this),o.send()}.bind(this))}else this.network.publish(i.id+".bound"),r.resolve();return r.promise},u.prototype.hideInactiveViews=function(e){this.federation.forEach(function(n){!n.autoRender&&n.id!==e&&this.getDOMElements(n.domBindingId).forEach(function(e){e.style.display="none"})}.bind(this))},u.prototype.render=function(e,t){var n=null;this.loadViewModel(e).then(function(t){return n=t,this.hideInactiveViews(e),this.loadTemplate(e)}.bind(this)).then(function(){this.getDOMElements(n.domBindingId).forEach(function(t){t.style.display=""}),this.network.publish(n.id+".docked",t),n.hasOwnProperty("children")&&n.children.map(function(t){this.render(t.id)})}.bind(this)).fail(function(t){console.error(t)}).catch(function(t){console.error(t)}).finally(function(){})},u.prototype.StarChartConstructor=function(){var e=this,t=function(){this.routes=[],this.currentLocation=null,this.smuggledPayload=null};return t.prototype.updateRoute=function(e){var t=this.routes.filter(function(n){return n.pattern===e.pattern})[0];t.callback=e.callback},t.prototype.addRoute=function(e){return this.routes[this.routes.length]={pattern:e.pattern,viewModel:e.viewmodelId,callback:e.callback},this.routes},t.prototype.warp=function(e){var t=[],n,r;try{if(e&&typeof e=="string")r=e;else{if(e&&typeof e=="object"&&!e.hasOwnProperty("location"))throw new o("You must provide a location property and a payload property when publishing the `transport` event with an object parameter.");e&&typeof e=="object"&&e.hasOwnProperty("location")&&(r=e.location)}n=this.routes.filter(function(e){return e.pattern===r})[0],t[t.length]=r,e.hasOwnProperty("payload")&&e.payload&&(this.smuggledPayload=e.payload),console.log("hashBuilder",t),window.location.hash=t.join("")}catch(i){console.error(i)}return n},t.prototype.scan=function(){var t={},n=window.location.pathname||"/",r=n.split("/");r.splice(0,1);var i=n.split("/")[1];r.length>1&&(i=r[0]);var s=this.routes.filter(function(e){return e.pattern.split("/")[0]===i})||!1;s&&(s=s.filter(function(e){var t=e.pattern.split("/").length;return r.length===t})||!1);if(s&&s.length&&r&&r.length){var o,u=s[0].pattern.split("/");u.splice(0,1);for(var a=0,f=u.length;a<=f,o=u[a];a+=1)o.substr(0,1)===":"&&(t[o.substr(1,o.length-1)]=r[a])}if(s&&s.length){for(var l in this.smuggledPayload)t[l]=this.smuggledPayload[l];e.render(s[0].viewModel,t),s[0].callback!==null&&s[0].callback.call()}},new t},u.prototype.depot=function(){var n=function(){this.collection=t.observableArray(),this.proxy=null,this._dirty=!1};return n.prototype.populate=function(t){var n=e.defer();return!this._dirty&&this.collection().length&&!t?n.resolve():!this._dirty||t?this.proxy.load().then(function(t){this.collection(t),n.resolve()}.bind(this)).fail(function(e){console.log("Failed to load from remote proxy. "+e.toString()),n.reject()}).done():n.reject(),n.promise},n.prototype.isDirty=function(){return this._dirty},n.prototype.sync=function(){this.collection.forEach(function(t){t.hasOwnProperty("_local")&&t._local&&this.proxy.save(t).then(function(){t._local=!1}).fail(function(e){console.error(e)}).done()}.bind(this))},n.prototype.add=function(e){e instanceof Array?e.forEach(function(t){this.collection.push(t)}.bind(this)):this.collection.push(e)},n.prototype.empty=function(){this.collection.removeAll()},n.prototype.remove=function(e){var t=this.collection().filter(function(n){return JSON.stringify(n)!==JSON.stringify(e)});this.collection(t)},n.prototype.removeById=function(e){var t=this.collection().filter(function(n){return n.id!==e});this.collection(t)},new n},new u}),requirejs.config({paths:{knockout:"../bower_components/knockout.js/knockout",q:"../bower_components/q/q.min",underscore:"../bower_components/underscore/underscore",postal:"../bower_components/postal.js/lib/postal.min",galaxy:"../bower_components/galaxy.js/galaxy"}}),require(["galaxy"],function(e){console.log("You have entered the galaxy"),e.route("").to("welcome").then(function(){console.log("routed to welcome")}),e.route("home").to("welcome"),e.route("welcome").to("welcome"),e.route("users").to("user.list"),e.route("users/:id").to("user.detail"),e.route("users/:id/edit").to("user.edit"),e.route("locations").to("location.list"),e.route("locations/:id").to("location.detail"),e.route("products").to("products/product.list"),e.route("products/:id").to("products/product.detail"),e.create({viewmodelDirectory:"/viewmodel",viewDirectory:"/view"})}),define("../public/lib/example.readable.js",function(){});